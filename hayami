#!/bin/bash

# shellcheck source=/dev/null
source ./src/help # Show help message
source ./src/sub # Get sub from user (get_subreddit)
source ./src/version # Show version
source ./src/scrap # Scrap images from subreddit
source ./src/cache # Cache images
source ./src/dir # Get directory from user (get_dir)

get_dir

# If no argument is passed
get_subreddit

cache

${subreddit:?}
${cachedir:?}

scrap "$subreddit" "$cachedir"

# Once finished, remove all of the cached images
#[[ "$KEEP" != "1" ]] && rm "${cachedir:?}"/*